<!DOCTYPE html>
<html lang="en-us">

  {% include head.html %}

  <body class="{{ page.layout }}{% if page.url == '/' %} home{% endif %}">

    {% include sidebar.html %}

    <main class="container">
      {{ content }}
    </main>

    {% include custom-foot.html %}
    {% include analytics.html %}
    
    <script>
      // Dark mode toggle functionality
      const darkModeLink = document.getElementById('dark-mode-link');
      const body = document.body;
      
      const moonSvg = `{% include svg/moon.svg %}`;
      const sunSvg = `{% include svg/sun.svg %}`;
      
      // Check for saved preference or default to light mode
      const currentMode = localStorage.getItem('darkMode');
      if (currentMode === 'enabled') {
        body.classList.add('dark-mode');
        darkModeLink.innerHTML = sunSvg;
      }
      
      // Toggle dark mode
      darkModeLink.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        
        if (body.classList.contains('dark-mode')) {
          localStorage.setItem('darkMode', 'enabled');
          darkModeLink.innerHTML = sunSvg;
        } else {
          localStorage.setItem('darkMode', 'disabled');
          darkModeLink.innerHTML = moonSvg;
        }
      });
    </script>
  </body>
</html>
